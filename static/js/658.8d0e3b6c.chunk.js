"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[658],{658:function(e,t,s){s.r(t),s.d(t,{default:function(){return Z}});var a=s(9439),o=s(2791),n=s(7689),i=s(6179),l=s(6151),r=s(184),c=function(){return(0,r.jsx)(l.Z,{sx:{height:35,mr:"10px",marginTop:"5px",textTransform:"unset"},variant:"outlined",onClick:function(){return window.location.replace("/forget_password")},children:"Login"})},d=s(4165),u=s(5861),m=s(2533),x=s(9709),f=function(e){var t=e.email,s=e.emailNotExist,n=e.setEmailNotExist,c=e.inputRefEmail,f=e.validEmail,h=e.setModalResetSuccess,g=e.setModalUserBlock,v=(0,o.useState)(!1),p=(0,a.Z)(v,2),j=p[0],b=p[1],k=(0,o.useCallback)((0,u.Z)((0,d.Z)().mark((function e(){var s;return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,b(!0),s={email:t},e.next=5,(0,m.o9)(s);case 5:i.H.user.email=t,b(!1),h(!0),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),"The email doesn't exist"===e.t0.response.data.err?(n(!0),b(!1),c.current.focus()):"You account it's blocked"===e.t0.response.data.err?(g(!0),b(!1)):window.location.reload();case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),[t]);return(0,r.jsx)(r.Fragment,{children:j?(0,r.jsx)(x.Z,{loading:j,variant:"outlined",disabled:!0,sx:{width:40,height:35,marginTop:"5px"}}):(0,r.jsx)(l.Z,{sx:{width:40,height:34,marginTop:"5px",textTransform:"unset"},variant:s||!f?"outlined":"contained",disabled:s||!f,onClick:function(){return k()},children:"Reset"})})},h=s(7997),g=/^[0-9a-zA-Z]+(?:\.[0-9a-zA-Z]+)*@[a-z0-9]{2,}(?:\.[a-z]{2,})+$/,v=function(e){var t=e.inputRefEmail,s=e.email,a=e.setEmail,n=e.validEmail,i=e.setValidEmail,l=e.emailFocus,c=e.setEmailFocus,d=e.emailNotExist,u=e.setEmailNotExist;return(0,o.useEffect)((function(){if(" "===s)a("");else if(" "===s[0]){var e=s.substr(1);a(e)}else{var t=g.test(s);i(t),u(!1)}}),[s]),(0,o.useEffect)((function(){t.current.focus()}),[]),(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"mt-5",children:(0,r.jsx)(h.Z,{required:!0,id:"outlined-required",size:"small",label:"Email",className:"loginSystemInput",error:!n&&!l||d,onChange:function(e){return a(e.target.value)},onFocus:function(){return c(!0)},onBlur:function(){return c(!1)},inputRef:t,value:s||"",helperText:n||l?d?"Email Not Exist":"Email":"Please Fill Your Email Account"})})})},p=function(e){var t=e.setModalResetSuccess;return(0,r.jsx)("button",{className:"btn-close",onClick:function(){return window.location="/",t(!1),void(document.body.style.overflow="visible")}})},j=function(e){var t=e.setModalResetSuccess;return(0,r.jsx)(l.Z,{variant:"outlined",sx:{float:"right",marginRight:"5px",marginTop:"7px",marginBottom:"9px",textTransform:"unset"},onClick:function(){return window.location="/",t(!1),void(document.body.style.overflow="visible")},children:"Close"})},b=s(3876),k=function(e){var t=e.setRequestAvailble,s=e.setModalUserBlock,n=(0,o.useState)(!1),c=(0,a.Z)(n,2),m=c[0],f=c[1],h=(0,o.useState)(!1),g=(0,a.Z)(h,2),v=g[0],p=g[1],j=(0,o.useCallback)((0,u.Z)((0,d.Z)().mark((function e(){var a;return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),a=i.H.user.email,e.next=5,(0,b.VG)(a);case 5:p(!0),f(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),"Request not available"===e.t0.response.data.err?(t(!0),f(!1)):"You account it's blocked"===e.t0.response.data.err?s(!0):window.location.reload();case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),[]);return(0,o.useEffect)((function(){v&&setTimeout((function(){p(!1)}),2e4)}),[v]),(0,r.jsx)(r.Fragment,{children:m?(0,r.jsx)(x.Z,{loading:m,variant:"outlined",disabled:!0,sx:{float:"right",marginRight:"5px",marginTop:"7px",marginBottom:"9px",height:37,width:110}}):(0,r.jsx)(l.Z,{variant:"outlined",sx:{float:"right",marginRight:"5px",marginTop:"7px",marginBottom:"9px",textTransform:"unset",width:110,height:37},disabled:v,onClick:function(){return j()},children:"Send Again"})})},w=function(e){var t=e.setModalResetSuccess,s=e.setModalUserBlock;(0,o.useEffect)((function(){document.body.style.overflow="hidden"}),[]);var n=(0,o.useState)(!0),i=(0,a.Z)(n,2),l=i[0],c=i[1];return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"modal show fade d-block",tabIndex:"-1",children:(0,r.jsx)("div",{className:"modal-dialog model-border model-block modalMessageSuccessLocation",children:(0,r.jsxs)("div",{className:"modal-content",children:[(0,r.jsxs)("div",{className:"modal-header",children:[(0,r.jsx)("h5",{className:"pt-2 px-2",children:"Message!"}),(0,r.jsx)(p,{setModalResetSuccess:t})]}),(0,r.jsx)("div",{className:"modal-body",children:l?(0,r.jsx)("h6",{className:"p-4 text-center modalMessageSuccessText",children:"Please check your email"}):(0,r.jsx)("h6",{className:"p-4 text-center modalMessageSuccessText",children:"Request not availble"})}),(0,r.jsxs)("div",{className:"modal-footer",children:[(0,r.jsx)(j,{setModalResetSuccess:t}),(0,r.jsx)(k,{setModalUserBlock:s,setRequestAvailble:c})]})]})})})})},E=function(e){var t=e.setModalUserBlock;return(0,r.jsx)("button",{className:"btn-close",onClick:function(){return window.location="/",t(!1),void(document.body.style.overflow="visible")}})},N=function(e){var t=e.setModalUserBlock;return(0,r.jsx)(l.Z,{variant:"outlined",sx:{float:"right",marginRight:"5px",marginTop:"7px",marginBottom:"9px",textTransform:"unset"},onClick:function(){return window.location="/",t(!1),void(document.body.style.overflow="visible")},children:"Close"})},S=function(e){var t=e.setModalUserBlock;return(0,r.jsx)(l.Z,{variant:"outlined",sx:{float:"right",marginRight:"5px",marginTop:"7px",marginBottom:"9px",textTransform:"unset"},onClick:function(){return window.open("https://www.google.com","_blank"),document.body.style.overflow="visible",void t(!1)},children:"Contact Us"})},M=function(e){var t=e.setModalUserBlock;return(0,o.useEffect)((function(){document.body.style.overflow="hidden"}),[]),(0,r.jsxs)(r.Fragment,{children:[i.H.isLogin&&(0,r.jsx)(n.Fg,{to:"/"}),(0,r.jsx)("div",{className:"modal show fade d-block",tabIndex:"-1",children:(0,r.jsx)("div",{className:"modal-dialog model-border model-block modalBlockLocation",children:(0,r.jsxs)("div",{className:"modal-content",children:[(0,r.jsxs)("div",{className:"modal-header",children:[(0,r.jsx)("h5",{className:"pt-2 px-2",children:"Message!"}),(0,r.jsx)(E,{setModalUserBlock:t})]}),(0,r.jsx)("div",{className:"modal-body",children:(0,r.jsx)("h6",{className:"p-4 text-center modalBlockSpaceParagraph",children:"Your account is blocked!"})}),(0,r.jsxs)("div",{className:"modal-footer",children:[(0,r.jsx)(S,{setModalUserBlock:t}),(0,r.jsx)(N,{setModalUserBlock:t})]})]})})})]})},Z=function(){var e=(0,o.useState)(""),t=(0,a.Z)(e,2),s=t[0],l=t[1],d=(0,o.useState)(!1),u=(0,a.Z)(d,2),m=u[0],x=u[1],h=(0,o.useState)(!0),g=(0,a.Z)(h,2),p=g[0],j=g[1],b=(0,o.useState)(!1),k=(0,a.Z)(b,2),E=k[0],N=k[1],S=(0,o.useState)(!1),Z=(0,a.Z)(S,2),B=Z[0],R=Z[1],y=(0,o.useState)(!1),T=(0,a.Z)(y,2),C=T[0],U=T[1],F=(0,o.useRef)();return(0,r.jsxs)(r.Fragment,{children:[i.H.isLogin&&(0,r.jsx)(n.Fg,{to:"/"}),(0,r.jsxs)("div",{className:B||C?"loginSystemBox opacity-modal":"loginSystemBox",children:[(0,r.jsx)("button",{className:"LoginSystemButtonLogo",onClick:function(){return window.location.replace("/")},children:(0,r.jsx)("img",{className:"loginSystemLogo",src:"https://i.imagesup.co/images2/55998d96407049438c45b5a0c79de5833b8faaf1.png",alt:"Peti Logo"})}),(0,r.jsx)("p",{className:"loginSystemTitle ",children:"Reset Your Password"}),(0,r.jsx)("div",{className:"text-center",children:(0,r.jsx)(v,{inputRefEmail:F,email:s,setEmail:l,emailFocus:p,setEmailFocus:j,validEmail:m,setValidEmail:x,emailNotExist:E,setEmailNotExist:N})}),(0,r.jsxs)("div",{className:"buttons-register",children:[(0,r.jsx)(c,{}),(0,r.jsx)(f,{email:s,emailNotExist:E,setEmailNotExist:N,inputRefEmail:F,validEmail:m,setModalResetSuccess:R,setModalUserBlock:U})]})]}),B?(0,r.jsx)(w,{setModalResetSuccess:R,setModalUserBlock:U}):null,C?(0,r.jsx)(M,{setModalUserBlock:U}):null]})}}}]);
//# sourceMappingURL=658.8d0e3b6c.chunk.js.map